<!DOCTYPE html>
<html>
<head>
<style>
  body{
    background-image: url(https://media.istockphoto.com/id/1308634004/photo/focus-on-the-laptop-keyboard-with-blurred-library-background.jpg?s=612x612&w=0&k=20&c=pfRrqet1_4kKBn42zxnLVe8KTlcOWepqilCil0DlErY);
    background-repeat: no-repeat;
    background-attachment: fixed;  
    background-size: cover;
  }
  .center {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  .form-container {
    text-align: left;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 50px;
    margin: 10px;
  }

  label, input {
    display: block;
    margin-bottom: 10px;
  }

  input[type="submit"] {
    margin-top: 10px;
  }

  .form-container {
    width: 45%;
  }
  .clearfix::after {
    content: "";
    clear: both;
    display: table;
  }
</style>
</head>
<body>
<div class="center">
  <div class="form-container">
    <form action="javascript:void(0);" onsubmit="return confirmSubmit()">
      <fieldset>
      <table>
	<tr>
        	<legend><b>Personal info:</b></legend>
	</tr>
	<tr>
        	<td><b><label for="fname">First name:</label></b></td>
        	<td><input type="text" id="fname" name="fname" required></td>
	<tr>
	<tr>
        	<td><b><label for="lname">Last name:</label></b></td>
       		<td><input type="text" id="lname" name="lname" required></td>
 	</tr>
	<tr>
        <td><b><label for="birthday">Date of Birth:</label></b></td>
        <td><input type="date" id="birthday" name="birthday"></td>
	</tr>
    
    <form>
      <tr>
	<td><b><label for="gender">Gender:</label></b></td>
        <td><select id="gender" name="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
        <option value="prefer-not-say">Prefer not to say</option>
      </select><br></td>
      </tr>
    </form>
     <tr>
    <td><b><label for="email">Email:</label></b></td>
    <td><input type="email" id="email" name="email" required></td>
    </tr>
<td><b><label for="phone">Phone Number (up to 10 digits):</label></b></td>
    <td><input type="tel" id="phone" name="phone" maxlength="10" pattern="[0-9]{1,10}" title="Please enter a valid phone number with up to 10 digits" required></td>
    </tr>
   
    <tr>
    <td><b><label for="pcode">Pincode:</label></b></td>
    <td><input type="text" id="pcode" name="pcode"></td>
    </tr>
   </fieldset>

    </table>
      </fieldset>
    </form>
   
  </div>
  <div class="form-container">
    <form action="javascript:void(0);" onsubmit="return confirmSubmit()">
      <fieldset>
	<table>
        <tr>
        <legend><b>Book details:</b></legend>
	</tr>
	<tr>
        <td><b><label for="booktitle">Book Title:</label></b></td>
        <td><input type="text" id="booktitle" name="booktitle" required></td>
        </tr>
	<tr>
        <td><b><label for="author">Author:</label></b></td>
        <td><input type="text" id="author" name="author" required></td>
	</tr>
	<tr>
        <td><b><label for="pages">pages:</label></b></td>         
        <td><input type="number" id="pages" name="pages"></td>
	</tr>

	<tr>
        <td><b><label for="genre">Genre:</label></b></td>
        <td><select id="genre" name="genre">
            <option value="technical">Technical</option>
            <option value="self-help">Self-Help</option>
            <option value="fiction">Fiction</option>
            <option value="non-fiction">Non-Fiction</option>
            <option value="biography">Biography</option>
        </select></td>
	</tr>
  <tr>
    <td>
    <div class="checkbox-group">
      <b><label for="perdaycharge">Charge per day:</label></b>
      <input type="checkbox" id="perdaycharge" name="perdaycharge" onclick="toggleChargeAmount()">
      
      <div id="chargeAmount" style="display: none;">
         <b> <label for="charge">Charge Amount:</label></b>
          <input type="text" id="charge" name="charge">
      </div>
      
      <b><label for="freeofcost">Free of Cost:</label></b>
      <input type="checkbox" id="freeofcost" name="freeofcost" onclick="toggleChargeAmount()">
    </div>
    </td>
  </tr>
	<tr>
         <td><form action="/upload" method="POST" enctype="multipart/form-data"></td>
        </tr>
	<tr>
    <td><input type="file" name="image" id="image"></td>
	</tr>
	<tr>
    <td><b><input type="submit" value="Upload"></b></td>
	</tr>

	<tr>
       <td><b><label for="synopsis">Synopsis:</label></b></td>
       <td><b><textarea id="synopsis" name="synopsis" rows="4" cols="50"></textarea></b></td>
        </tr>
	<tr>

        


    <script>
        var perDayChargeCheckbox = document.getElementById('perdaycharge');
        var chargeAmountDiv = document.getElementById('chargeAmount');

        perDayChargeCheckbox.addEventListener('change', function () {
            if (perDayChargeCheckbox.checked) {
                chargeAmountDiv.style.display = 'block';
            } else {
                chargeAmountDiv.style.display = 'none';
            }
        });

    </script>
    </td>
  </tr>
	<tr>
       <td><input type="submit" value="Submit"></td>
	</tr>

	</table>
      </fieldset>
    </form>
  </div>
</div>

<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="staticBackdropLabel">Registration</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Your Registration Has Been Done Successfully. Click the "OK" button to continue.
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="modalOKButton" data-bs-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>

  <script>
  function toggleChargeAmount() {
      var perdaychargeCheckbox = document.getElementById("perdaycharge");
      var freeofcostCheckbox = document.getElementById("freeofcost");
      var chargeAmountDiv = document.getElementById("chargeAmount");
  
      if (perdaychargeCheckbox.checked) {
          chargeAmountDiv.style.display = "block";
          freeofcostCheckbox.checked = false;
      } else if (freeofcostCheckbox.checked) {
          chargeAmountDiv.style.display = "none";
          perdaychargeCheckbox.checked = false;
      } else {
          chargeAmountDiv.style.display = "none";
      }
  }
  function confirmSubmit() {
    var confirmation = confirm("Are you sure you want to submit this form?");
    if (confirmation) {
      var formData = new FormData(document.forms[0]); 

      fetch('http://localhost:9999/books', {
        method: 'POST',
        body: formData,
      })
        .then(function(response) {
          if (response.ok) {
            alert('submitted');
            window.location.href='Circle.html';
          } else {
            alert('Error submitting the form. Please try again.');
          }
        })
        .catch(function(error) {
          console.error('Error:', error);
          alert('An error occurred while submitting the form. Please try again.');
        });
    }
    return false;
  }
  document.getElementById('modalOKButton').addEventListener('click', function () {
    window.location.href = 'YourDesiredPage.html';
  });
  function confirmSubmit() {
    var confirmation = confirm("Are you sure you want to submit this form?");
    if (confirmation) {
        alert('submitted')
    }
    return false;
}
  </script>
</body>
</html>
